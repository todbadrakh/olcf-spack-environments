# ROCm 5.5.0 environment packages
# Tuguldur T. Odbadrakh
# 10/23/2023

packages:
  
  all:
    buildable: true
    compiler: [gcc@7.5.0, gcc]
    providers:
      blas: [openblas, cray-libsci]
      dsmml: [cray-dsmml]
      dyninst: [cray-dyninst] 
      lapack: [openblas, cray-libsci]
      mpi: [cray-mpich]
  
  ### externals ------------------------------------------------------------------------------------
  autoconf:
    externals:
    - spec: autoconf@2.69
      prefix: /usr
  automake:
    externals:
    - spec: automake@1.15.1
      prefix: /usr
  binutils:
    externals:
    - spec: binutils@2.40
      prefix: /opt/cray/pe/cce/16.0.1/binutils/x86_64/x86_64-pc-linux-gnu
    - spec: binutils@2.39.0
      prefix: /usr
  coreutils:
    externals:
    - spec: coreutils@8.32
      prefix: /usr
  curl:
    externals:
    - spec: curl@8.0.1+gssapi+ldap+nghttp2
      prefix: /usr
  diffutils:
    externals:
    - spec: diffutils@3.6
      prefix: /usr
  elfutils:
    externals:
    - spec: elfutils@0.188
      prefix: /usr
  findutils:
    externals:
    - spec: findutils@4.8.0
      prefix: /usr
  flex:
    externals:
    - spec: flex@2.6.4+lex
      prefix: /usr
  gawk:
    externals:
    - spec: gawk@4.2.1
      prefix: /usr
  gettext:
    externals:
    - spec: gettext@0.20.2
      prefix: /usr
  gmake:
    externals:
    - spec: gmake@4.2.1
      prefix: /usr
  groff:
    externals:
    - spec: groff@1.22.4
      prefix: /usr
  openmpi:
    buildable: false
  libssh2:
    externals:
    - spec: libssh2@1.0.1
      prefix: /usr/lib64
  m4:
    externals:
    - spec: m4@1.4.18
      prefix: /usr
  ncurses:
    externals:
    - spec: ncurses@6.1
      prefix: /usr
    - spec: ncurses@5.9
      prefix: /usr
  openssh:
    externals:
    - spec: openssh@8.4p1
      prefix: /usr
  openssl:
    externals:
    - spec: openssl@1.1.1l
      prefix: /usr
  pkg-config:
    externals:
    - spec: pkg-config@0.29.2
      prefix: /usr
  sqlite:
    externals:
    - spec: sqlite@3.8.6
      prefix: /usr
  tar:
    externals:
    - spec: tar@1.34
      prefix: /usr

  ### Cray packages --------------------------------------------------------------------------------
  comgr:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: comgr@5.5.0
    version: [5.5.0]
  cray-libsci:
    buildable: false
    externals:
      - modules:
          - cray-libsci/23.09.1.1
          - cray-mpich/8.1.27
        spec: cray-libsci@23.09.1.1
      - modules:
          - cray-libsci/23.05.1.4
          - cray-mpich/8.1.27
        spec: cray-libsci@23.05.1.4
      - modules:
          - cray-libsci/23.02.1.1
          - cray-mpich/8.1.27
        spec: cray-libsci@23.02.1.1
      - modules:
          - cray-libsci/22.10.1.2
          - cray-mpich/8.1.27
        spec: cray-libsci@22.10.1.2
    version: [23.09.1.1, 23.05.1.4, 23.02.1.1, 22.10.1.2]
  cray-mpich:
    buildable: false
    compiler: []
    externals:
      - modules:
          - cray-mpich/8.1.27
        spec: cray-mpich@8.1.27
      - modules:
          - cray-mpich/8.1.26
        spec: cray-mpich@8.1.26
      - modules:
          - cray-mpich/8.1.25
        spec: cray-mpich@8.1.25
      - modules:
          - cray-mpich/8.1.20
        spec: cray-mpich@8.1.20
    version: [8.1.27, 8.1.26, 8.1.25, 8.1.20]
  hip:
    buildable: false
    externals:
      - extra_attributes:
          compilers:
            hip: /opt/rocm-5.5.0/hip/bin/hipcc
        prefix: /opt/rocm-5.5.0/hip
        spec: hip@5.5.0
    version: [5.5.0]
  hip-rocclr:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hip-rocclr@5.5.0
    version: [5.5.0] 
  hipblas:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipblas@5.5.0
    version: [5.5.0]
  hipblaslt:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipblaslt@5.5.0
    version: [5.5.0]
  hipcub:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipcub@5.5.0
    version: [5.5.0]
  hipfft:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipfft@5.5.0
    version: [5.5.0]
  hipfort:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipfort@5.5.0
    version: [5.5.0]
  hipify-clang:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipify-clang@5.5.0
    version: [5.5.0]
  hiprand:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hiprand@5.5.0
    version: [5.5.0]
  hipsolver:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipsolver@5.5.0
    version: [5.5.0]
  hipsparse:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hipsparse@5.5.0
    version: [5.5.0]
  hsa-rocr-dev:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hip-rocr-dev@5.5.0
    version: [5.5.0]
  hsakmt-roct:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: hsakmt-roct@5.5.0
    version: [5.5.0]
  libfabric:
    buildable: true
    externals:
      - prefix: /opt/cray/libfabric/1.15.2.0
        spec: libfabric@1.15.2.0
    version: [1.15.2.0]
  llvm-amdgpu:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0/llvm
        spec: llvm-amdgpu@5.5.0
    version: [5.5.0]
  miopen-hip:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: miopen-hip@5.5.0
    version: [5.5.0]
  rccl:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rccl@5.5.0
    version: [5.5.0]
  rocalution:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocalution@5.5.0
    version: [5.5.0]
  rocblas:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocblas@5.5.0
    version: [5.5.0]
  rocfft:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocfft@5.5.0
    version: [5.5.0]
    variants: amdgpu_target=gfx908 amdgpu_target_sram_ecc=gfx908
  rocm-clang-ocl:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocm-clang-ocl@5.5.0
    version: [5.5.0]
  rocm-cmake:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocm-cmake@5.5.0
    version: [5.5.0]
  rocm-device-libs:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocm-device-libs@5.5.0
    version: [5.5.0]
  rocm-gdb:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocm-gdb@5.5.0
    version: [5.5.0]
  rocm-opencl:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0/opencl
        spec: rocm-opencl@5.5.0
    version: [5.5.0]
  rocm-opencl-runtime:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0/opencl
        spec: rocm-opencl-runtime@5.5.0
    version: [5.5.0]
  rocm-openmp-extras:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocm-openmp-extras@5.5.0
    version: [5.5.0]
  rocm-smi:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0/rocm_smi
        spec: rocmsmi@5.5.0
    version: [5.5.0]
  rocm-smi-lib:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0/rocm_smi
        spec: rocm-smi-lib@5.5.0
    version: [5.5.0]
  rocminfo:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocminfo@5.5.0
    version: [5.5.0]
  rocprim:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocmprim@5.5.0
    version: [5.5.0]
  rocprofiler-dev:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocprofiler-dev@5.5.0
    version: [5.5.0]
  rocrand:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocrand@5.5.0
    version: [5.5.0]
  rocsolver:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocsolver@5.5.0
    version: [5.5.0]
  rocsparse:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocsparse@5.5.0
    version: [5.5.0]
  rocthrust:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: rocthrust@5.5.0
    version: [5.5.0]
  roctracer-dev:
    buildable: false
    externals:
      - prefix: /opt/rocm-5.5.0
        spec: roctracer-dev@5.5.0
    version: [5.5.0]


# Base environment modules
# Tuguldur T. Odbadrakh
# 10/13/2023

modules:
  prefix_inspections:
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib:
    - LD_LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH
  default:
    enable:
    - lmod
    roots:
      lmod: ${FACSPACK_ENV_MODULEROOT}/spack
    lmod:
      core_compilers: [gcc@7.5.0]
      all:
        environment:
          set:
            OLCF_${PACKAGE}_ROOT: ${PREFIX}
        autoload: none
      blacklist_implicits: false
      verbose: true
      whitelist: []
      blacklist:
      - binutils
      - boost%gcc cxxstd=98
      - boost%gcc visibility=global
      - dyninst%gcc ^elfutils+bzip2
      - elfutils+bzip2
      - gasnet~pshm
      - gettext
      - kokkos~rocm
      - libunwind+xz
      - libxml2 ^xz~pic
      - xz~pic
      - z3 ^libuuid
      - gobject-introspection ^cairo+X
      - blaspp ^openblas
      - slate ^openblas
      - lapackpp ^openblas
      - lapackpp ^blaspp~rocm
      - netlib-scalapack ^openblas
      - berkeley-db
      - boost%gcc visibility=global
      - cray-mpich
      - cray-libsci
      - glib
      - glproto
      - go-bootstrap
      - help2man
      - inputproto
      - kbproto
      - libassuan
      - libdwarf
      - libfabric
      - libfontenc
      - libgcrypt
      - libgd
      - libgpg-error
      - libiconv
      - libidn2
      - libksba
      - libpciaccess
      - libpthread-stubs
      - libsigsegv
      - libsodium
      - libunistring
      - libuuid
      - libx11
      - libxau
      - libxcb
      - libxdmcp
      - libxext
      - libxfont
      - libxpm
      - libxslt
      - llvm
      - lua
      - m4
      - meson
      - mkfontdir
      - mkfontscale
      - mpfr
      - mpich
      - msgpack-c
      - nasm
      - ncurses
      - npth
      - numactl
      - openssh
      - openssl
      - pkgconf
      - popt
      - py-certifi
      - py-docutils
      - py-mako
      - py-markupsafe
      - py-msgpack
      - py-pygments
      - py-pyyaml
      - py-setuptools
      - py-virtualenv
      - py-wheel
      - python
      - readline
      - slurm
      - tcl
      - tcsh
      - util-linux-uuid
      - util-macros
      - xcb-proto
      - xextproto
      - xtrans
      - harfbuzz ^cairo~X
      - pango ^cairo~pdf
      - '%gcc@7-os'
      ## ROCm components; we provide a separate metamodule for these
      - comgr
      - hip
      - hip-rocclr
      - hipblas
      - hipcub
      - hipfft
      - hipfort
      - hipify-clang
      - hipsparse
      - hsa-rocr-dev
      - hsakmt-roct
      - llvm-amdgpu
      - miopen-hip
      - rccl
      - rocalution
      - rocblas
      - rocfft
      - rocm-clang-ocl
      - rocm-cmake
      - rocm-dbgapi
      - rocm-device-libs
      - rocm-gdb
      - rocm-opencl
      - rocm-opencl-runtime
      - rocm-openmp-extras
      - rocm-smi
      - rocm-smi-lib
      - rocminfo
      - rocprim
      - rocprofiler-dev
      - rocrand
      - rocsolver
      - rocsparse
      - rocthrust
      - roctracer-dev
      hash_length: 0
      hierarchy: []
      projections: {}
      core_specs: []


# OLCF Gaea-T6 Spack Environment Modules

modules:
  prefix_inspections:
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib:
    - LD_LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH
  default:
    roots:
      tcl: ${FACSPACK_ENV_MODULEROOT}/flat
      lmod: ${FACSPACK_ENV_MODULEROOT}/spack
    enable:
    - lmod
    - tcl
    lmod:
      core_compilers:
      - gcc@7.5.0
      all:
        environment:
          set:
            OLCF_{name}_ROOT: '{prefix}'
          unset: []
        autoload: none
      arpack-ng:
        suffixes:
          arpack-ng ^openblas: openblas
      boost:
        suffixes:
          boost cxxstd=17: cxx17
      cairo:
        suffixes:
          cairo+X: X
          cairo+pdf: pdf
      cdo:
        suffixes:
          cdo+aec: aec
          cdo^hdf5+mpi^netcdf+mpi^fftw+mpi: parallel
      ferret:
        suffixes:
          ferret^hdf5+mpi^netcdf+mpi: parallel
      fftw:
        suffixes:
          fftw+openmp: omp
      gromacs:
        suffixes:
          gromacs~mpi: analysis
          gromacs~rdtscp: rdtscp_off
      hdf5:
        suffixes:
          hdf5~mpi+szip: sz
          hdf5~mpi+threadsafe: threadsafe
      heffte:
        suffixes:
          heffte+fftw: fftw
      kokkos-kernels:
        suffixes:
          kokkos-kernels+openmp: omp
      ncl:
        suffixes:
          builtin.ncl ^hdf5+mpi^netcdf+mpi: parallel
      openblas:
        suffixes:
          openblas threads=openmp: omp
          openblas threads=pthreads: pthreads
      pango:
        suffixes:
          pango+X: X
      raja:
        suffixes:
          raja+openmp: omp
      root:
        suffixes:
          ^cray-libsci: cpe
      tau:
        suffixes:
          tau+openmp: omp
      vtk:
        suffixes:
          vtk+mpi: parallel
          vtk+qt: qt
          vtk~mpi: serial
      exclude_implicits: true
      verbose: true
      hash_length: 0
    tcl:
      hash_length: 3
      naming_scheme: '{name}/{version}-{compiler.name}-{compiler.version}'
      exclude:
      - slurm
      - go-bootstrap
      - openssl
      all:
        conflict:
        - '{name}'
        environment:
          set:
            OLCF_${PACKAGE}_ROOT: '{prefix}'
      verbose: false
      exclude_implicits: false

